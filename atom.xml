<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>doddd三亩地</title>
  
  <subtitle>life is a struggle</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-11-24T04:37:55.893Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>doddd</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>hexo搭建以及插件安装踩坑</title>
    <link href="http://yoursite.com/2019/11/24/hexo%E6%90%AD%E5%BB%BA%E4%BB%A5%E5%8F%8A%E6%8F%92%E4%BB%B6%E5%AE%89%E8%A3%85%E8%B8%A9%E5%9D%91/"/>
    <id>http://yoursite.com/2019/11/24/hexo%E6%90%AD%E5%BB%BA%E4%BB%A5%E5%8F%8A%E6%8F%92%E4%BB%B6%E5%AE%89%E8%A3%85%E8%B8%A9%E5%9D%91/</id>
    <published>2019-11-24T02:55:07.000Z</published>
    <updated>2019-11-24T04:37:55.893Z</updated>
    
    <content type="html"><![CDATA[<p>花了两天时间终于把个人博客弄好了，目前是搭建在github，等域名备案好后，再转移吧。<br>有很多博客框架，我选hexo是因为用的人比较多出问题容易google<br>怎么安装网上奶妈级教程就太多了就不重复啰嗦了 记一个超详细的hexo<a href="https://blog.csdn.net/sinat_37781304/article/details/82729029" target="_blank" rel="noopener">教程</a><br>因为我之前就安装好git了所以大致流程就是</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">安装<span class="keyword">node</span>.<span class="title">js</span> -&gt; 安装hexo -&gt; github部署</span><br></pre></td></tr></table></figure><p>安装好node.js后最好安装cnpm 这是国内的淘宝镜像 速度会比较快</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">npm</span> install -g cnpm --registry=https:<span class="regexp">//</span>registry.<span class="built_in">npm</span>.taobao.org</span><br></pre></td></tr></table></figure><a id="more"></a><hr><p>记几个命令：</p>  <figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- npm install -g hexo-cli                   安装</span><br><span class="line">- hexo init blog                          初始化（本地blog文件）</span><br><span class="line">- hexo s = hexo<span class="built_in"> server </span>           启动本地服务</span><br><span class="line">- hexo g = hexo generator               生成新的静态文件</span><br><span class="line">- hexo n = hexo new <span class="string">"myfirstblog"</span>     生成一篇新blog</span><br><span class="line">- hexo d = hexo deploy                      将更新的blog部署到服务器</span><br><span class="line">- hexo clean       清除之前生成静态文件 (有时候做了一些更新一直不出效果 可能需要用</span><br></pre></td></tr></table></figure><p>一般部署三连就是 </p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">hexo</span> <span class="string">clean </span></span><br><span class="line"><span class="attr">hexo</span> <span class="string">g</span></span><br><span class="line"><span class="attr">hexo</span> <span class="string">d</span></span><br></pre></td></tr></table></figure><hr><h2 id="踩坑"><a href="#踩坑" class="headerlink" title="踩坑"></a>踩坑</h2><p>git一直执行不了hexo命令，返回报usage<br>后来才发现 很多hexo命令都需要在根目录才能执行 建好blog后 cd blog一下….</p><p>hexo d后 ERROR Deployer not found: git<br>缺少git部署插件 npm install –save hexo-deployer-git</p><p>还有就是修改头像<br>按照网上教程一步一步走还是不行  最后发现 是有两个_config文件:<br>一个是blog根目录里的 一个是themes里面的<br>修改头像再要themes里面的_config修改</p><p>在文章插图片也需要安装插件 npm install hexo-asset-image –save<br>还要将_config文件里面的post_asset_folder:这个选项设置为true<br>然后 执行命令hexo n “blog” 就是在/source/_posts目录下有一个同名文件 在里面放要用的图片<br>我试了下自己创建的话 好像不行 反正我是没插进去<br>图片插入格式：<img src="/2019/11/24/hexo%E6%90%AD%E5%BB%BA%E4%BB%A5%E5%8F%8A%E6%8F%92%E4%BB%B6%E5%AE%89%E8%A3%85%E8%B8%A9%E5%9D%91/%E5%9B%BE%E7%89%87%E5%90%8D%E5%AD%97.png" alt></p><p>还有一个问题没解决 就是点击 ‘所有文章’ 和 ‘关于我’ 都会弹出一个空白页 在_config里面修改 open_in_new: false 也没用   难受</p><hr><h2 id="一些小功能"><a href="#一些小功能" class="headerlink" title="一些小功能"></a>一些小功能</h2><p>截断文章是 <!--more-->  如果文章太长 需要截断就在截断地方加上</p><p>给文章添加标签<br>在标题下加上tab: xxx<br>多个标签格式为 [tag1, tag2]<br>注：逗号之后要有一个空格。[tag1, tag2]= [tag1+逗号+空格+tag2]</p><p>要是添加rss(订阅功能) 需要插件npm i hexo-generator-feed</p><hr><p>附上几个常用插件教程链接<br><a href="https://www.jianshu.com/p/40a247c61cb0" target="_blank" rel="noopener">hexo下yilia主题添加字数统计和阅读时长功能</a><br><a href="https://blog.zscself.com/posts/ee4d9ecb/" target="_blank" rel="noopener">增加版权信息</a><br><a href="https://blog.csdn.net/LF21011501/article/details/88884820" target="_blank" rel="noopener">Hexo+yilia主题添加网页访问计数功能</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;花了两天时间终于把个人博客弄好了，目前是搭建在github，等域名备案好后，再转移吧。&lt;br&gt;有很多博客框架，我选hexo是因为用的人比较多出问题容易google&lt;br&gt;怎么安装网上奶妈级教程就太多了就不重复啰嗦了 记一个超详细的hexo&lt;a href=&quot;https://blog.csdn.net/sinat_37781304/article/details/82729029&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;教程&lt;/a&gt;&lt;br&gt;因为我之前就安装好git了所以大致流程就是&lt;/p&gt;
&lt;figure class=&quot;highlight crmsh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;安装&lt;span class=&quot;keyword&quot;&gt;node&lt;/span&gt;.&lt;span class=&quot;title&quot;&gt;js&lt;/span&gt; -&amp;gt; 安装hexo -&amp;gt; github部署&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;安装好node.js后最好安装cnpm 这是国内的淘宝镜像 速度会比较快&lt;/p&gt;
&lt;figure class=&quot;highlight coffeescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;npm&lt;/span&gt; install -g cnpm --registry=https:&lt;span class=&quot;regexp&quot;&gt;//&lt;/span&gt;registry.&lt;span class=&quot;built_in&quot;&gt;npm&lt;/span&gt;.taobao.org&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>第一次项目实记SSM_HRMS_Project</title>
    <link href="http://yoursite.com/2019/11/22/%E7%AC%AC%E4%B8%80%E6%AC%A1%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%AE%B0SSM-HRMS-Project/"/>
    <id>http://yoursite.com/2019/11/22/%E7%AC%AC%E4%B8%80%E6%AC%A1%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%AE%B0SSM-HRMS-Project/</id>
    <published>2019-11-22T15:45:03.000Z</published>
    <updated>2019-11-24T04:33:13.250Z</updated>
    
    <content type="html"><![CDATA[<h1 id="SSM-HRMS-Project"><a href="#SSM-HRMS-Project" class="headerlink" title="SSM_HRMS_Project"></a>SSM_HRMS_Project</h1><p>刚学完Spring等框架，从网上借鉴一些前辈的项目架构（代码就是从模仿开始….） 还有aiguigu的视频结合 完成这个入门级的练手SSM项目</p><p><a href="https://blog.csdn.net/noaman_wgs/article/details/79503559" target="_blank" rel="noopener">借鉴链接</a></p><p><img src="/2019/11/22/%E7%AC%AC%E4%B8%80%E6%AC%A1%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%AE%B0SSM-HRMS-Project/SSM_page.png" alt></p><p>目的是熟悉ssm框架以及前后端的一个简单搭建流程 完成CRUD等简单操作 </p> <a id="more"></a> <p>大概用到的技术：</p><blockquote><p><strong>后端</strong>：</p></blockquote><ul><li><p>框架：Spring+SpringMVC+Mybatis</p></li><li><p>数据库：Oracle</p></li><li><p>校验JRS303（hibernate）</p></li><li><p>采用rest风格</p></li></ul><blockquote><p><strong>前端</strong>：</p></blockquote><ul><li><p>框架：bootstrap快速搭建页面</p></li><li><p>jQuery(<del>不使用jstl表达式</del> 所有数据访问增加删除修改都是发起ajax请求返回Json数据)</p></li></ul><blockquote><p><strong>工具</strong>：</p></blockquote><ul><li><p>开发软件：intellij IDEA</p></li><li><p>依赖Maven管理项目和构建</p></li><li><p>以及分页工具PageHelper</p></li></ul><hr><blockquote><p><strong>项目目录结构：</strong></p></blockquote><p>1). Java</p><p><img src="/2019/11/22/%E7%AC%AC%E4%B8%80%E6%AC%A1%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%AE%B0SSM-HRMS-Project/SSM_HRMS_src.png" alt></p><p>2). Mybatis映射文件</p><p><img src="/2019/11/22/%E7%AC%AC%E4%B8%80%E6%AC%A1%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%AE%B0SSM-HRMS-Project/SSM_HRMS_resource.png" alt></p><p>3). Web以及Spring框架配置文件</p><p><img src="/2019/11/22/%E7%AC%AC%E4%B8%80%E6%AC%A1%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%AE%B0SSM-HRMS-Project/SSM_HRMS_webapp.png" alt></p><p>4). 测试</p><p><img src="/2019/11/22/%E7%AC%AC%E4%B8%80%E6%AC%A1%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%AE%B0SSM-HRMS-Project/SSM_HRMS_test.png" alt></p><hr><p>​    </p><p>​    </p><h2 id="第一步-建表和Mybatis逆向工程"><a href="#第一步-建表和Mybatis逆向工程" class="headerlink" title="第一步     建表和Mybatis逆向工程"></a>第一步     建表和Mybatis逆向工程</h2><p>1.员工表</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">"SYSTEM"</span>.<span class="string">"TBL_EMP2"</span> </span><br><span class="line"> (<span class="string">"EMP_ID"</span> <span class="built_in">NUMBER</span>(<span class="number">11</span>,<span class="number">0</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">ENABLE</span>, </span><br><span class="line"> <span class="string">"EMP_NAME"</span> <span class="built_in">VARCHAR2</span>(<span class="number">255</span> <span class="keyword">BYTE</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">ENABLE</span>, </span><br><span class="line"> <span class="string">"EMAIL"</span> <span class="built_in">VARCHAR2</span>(<span class="number">255</span> <span class="keyword">BYTE</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">ENABLE</span>, </span><br><span class="line"><span class="string">"GENDER"</span> <span class="built_in">CHAR</span>(<span class="number">1</span> <span class="keyword">BYTE</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">ENABLE</span>, </span><br><span class="line"><span class="string">"DEPT_ID"</span> <span class="built_in">NUMBER</span>(<span class="number">11</span>,<span class="number">0</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">ENABLE</span>, </span><br><span class="line"><span class="keyword">CONSTRAINT</span> <span class="string">"TBL_EMP2_PK"</span> PRIMARY <span class="keyword">KEY</span> (<span class="string">"EMP_ID"</span>)</span><br><span class="line"><span class="keyword">USING</span> <span class="keyword">INDEX</span> PCTFREE <span class="number">10</span> <span class="keyword">INITRANS</span> <span class="number">2</span> <span class="keyword">MAXTRANS</span> <span class="number">255</span> </span><br><span class="line"> <span class="keyword">STORAGE</span>(<span class="keyword">INITIAL</span> <span class="number">65536</span> <span class="keyword">NEXT</span> <span class="number">1048576</span> <span class="keyword">MINEXTENTS</span> <span class="number">1</span> <span class="keyword">MAXEXTENTS</span> <span class="number">2147483645</span></span><br><span class="line"><span class="keyword">PCTINCREASE</span> <span class="number">0</span> <span class="keyword">FREELISTS</span> <span class="number">1</span> <span class="keyword">FREELIST</span> <span class="keyword">GROUPS</span> <span class="number">1</span> <span class="keyword">BUFFER_POOL</span> <span class="keyword">DEFAULT</span> <span class="keyword">FLASH_CACHE</span> <span class="keyword">DEFAULT</span> CELL_FLASH_CACHE <span class="keyword">DEFAULT</span>)</span><br><span class="line"><span class="keyword">TABLESPACE</span> <span class="string">"SYSTEM"</span>  <span class="keyword">ENABLE</span>, </span><br><span class="line"><span class="keyword">CONSTRAINT</span> <span class="string">"TBL_EMP2_FK1"</span> <span class="keyword">FOREIGN</span> <span class="keyword">KEY</span> (<span class="string">"DEPT_ID"</span>)</span><br><span class="line"><span class="keyword">REFERENCES</span> <span class="string">"SYSTEM"</span>.<span class="string">"TBL_DEPT2"</span> (<span class="string">"DEPT_ID"</span>) <span class="keyword">ENABLE</span></span><br><span class="line">) PCTFREE <span class="number">10</span> <span class="keyword">PCTUSED</span> <span class="number">40</span> <span class="keyword">INITRANS</span> <span class="number">1</span> <span class="keyword">MAXTRANS</span> <span class="number">255</span> <span class="keyword">NOCOMPRESS</span> <span class="keyword">LOGGING</span></span><br><span class="line"><span class="keyword">STORAGE</span>(<span class="keyword">INITIAL</span> <span class="number">65536</span> <span class="keyword">NEXT</span> <span class="number">1048576</span> <span class="keyword">MINEXTENTS</span> <span class="number">1</span> <span class="keyword">MAXEXTENTS</span> <span class="number">2147483645</span></span><br><span class="line"><span class="keyword">PCTINCREASE</span> <span class="number">0</span> <span class="keyword">FREELISTS</span> <span class="number">1</span> <span class="keyword">FREELIST</span> <span class="keyword">GROUPS</span> <span class="number">1</span> <span class="keyword">BUFFER_POOL</span> <span class="keyword">DEFAULT</span> <span class="keyword">FLASH_CACHE</span> <span class="keyword">DEFAULT</span> CELL_FLASH_CACHE <span class="keyword">DEFAULT</span>)</span><br><span class="line"><span class="keyword">TABLESPACE</span> <span class="string">"SYSTEM"</span> ;</span><br></pre></td></tr></table></figure><p>​    2.部门表</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">"SYSTEM"</span>.<span class="string">"TBL_DEPT2"</span> </span><br><span class="line">(<span class="string">"DEPT_ID"</span> <span class="built_in">NUMBER</span>(<span class="number">11</span>,<span class="number">0</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">ENABLE</span>, </span><br><span class="line"><span class="string">"DEPT_NAME"</span> <span class="built_in">VARCHAR2</span>(<span class="number">255</span> <span class="keyword">BYTE</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">ENABLE</span>, </span><br><span class="line"><span class="keyword">CONSTRAINT</span> <span class="string">"TBL_DEPT2_PK"</span> PRIMARY <span class="keyword">KEY</span> (<span class="string">"DEPT_ID"</span>)</span><br><span class="line"><span class="keyword">USING</span> <span class="keyword">INDEX</span> PCTFREE <span class="number">10</span> <span class="keyword">INITRANS</span> <span class="number">2</span> <span class="keyword">MAXTRANS</span> <span class="number">255</span> </span><br><span class="line"><span class="keyword">STORAGE</span>(<span class="keyword">INITIAL</span> <span class="number">65536</span> <span class="keyword">NEXT</span> <span class="number">1048576</span> <span class="keyword">MINEXTENTS</span> <span class="number">1</span> <span class="keyword">MAXEXTENTS</span> <span class="number">2147483645</span></span><br><span class="line"><span class="keyword">PCTINCREASE</span> <span class="number">0</span> <span class="keyword">FREELISTS</span> <span class="number">1</span> <span class="keyword">FREELIST</span> <span class="keyword">GROUPS</span> <span class="number">1</span> <span class="keyword">BUFFER_POOL</span> <span class="keyword">DEFAULT</span> <span class="keyword">FLASH_CACHE</span> <span class="keyword">DEFAULT</span> CELL_FLASH_CACHE <span class="keyword">DEFAULT</span>)</span><br><span class="line"><span class="keyword">TABLESPACE</span> <span class="string">"SYSTEM"</span>  <span class="keyword">ENABLE</span></span><br><span class="line">) PCTFREE <span class="number">10</span> <span class="keyword">PCTUSED</span> <span class="number">40</span> <span class="keyword">INITRANS</span> <span class="number">1</span> <span class="keyword">MAXTRANS</span> <span class="number">255</span> <span class="keyword">NOCOMPRESS</span> <span class="keyword">LOGGING</span></span><br><span class="line"><span class="keyword">STORAGE</span>(<span class="keyword">INITIAL</span> <span class="number">65536</span> <span class="keyword">NEXT</span> <span class="number">1048576</span> <span class="keyword">MINEXTENTS</span> <span class="number">1</span> <span class="keyword">MAXEXTENTS</span> <span class="number">2147483645</span></span><br><span class="line"><span class="keyword">PCTINCREASE</span> <span class="number">0</span> <span class="keyword">FREELISTS</span> <span class="number">1</span> <span class="keyword">FREELIST</span> <span class="keyword">GROUPS</span> <span class="number">1</span> <span class="keyword">BUFFER_POOL</span> <span class="keyword">DEFAULT</span> <span class="keyword">FLASH_CACHE</span> <span class="keyword">DEFAULT</span> CELL_FLASH_CACHE <span class="keyword">DEFAULT</span>)</span><br><span class="line"><span class="keyword">TABLESPACE</span> <span class="string">"SYSTEM"</span> ;</span><br></pre></td></tr></table></figure><p>​    3.Mybatis逆向工程（generatorConfig.xml）</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"> ​<span class="tag">&lt;<span class="name">generatorConfiguration</span>&gt;</span></span><br><span class="line">   ​<span class="tag">&lt;<span class="name">context</span> <span class="attr">id</span>=<span class="string">"DB2Tables"</span> <span class="attr">targetRuntime</span>=<span class="string">"MyBatis3"</span>&gt;</span></span><br><span class="line">   ​<span class="comment">&lt;!--        不生成注释--&gt;</span></span><br><span class="line">   ​<span class="tag">&lt;<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">   ​<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suppressAllComments"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">   ​<span class="tag">&lt;/<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">​<span class="tag">&lt;<span class="name">jdbcConnection</span> </span></span><br><span class="line"><span class="tag">                 <span class="attr">driverClass</span>=<span class="string">"oracle.jdbc.OracleDriver"</span></span></span><br><span class="line"><span class="tag">​<span class="attr">connectionURL</span>=<span class="string">"jdbc:oracle:thin:@localhost:1521:XE"</span></span></span><br><span class="line"><span class="tag">​<span class="attr">userId</span>=<span class="string">"system"</span></span></span><br><span class="line"><span class="tag">​<span class="attr">password</span>=<span class="string">"123456"</span>&gt;</span></span><br><span class="line">​<span class="tag">&lt;/<span class="name">jdbcConnection</span>&gt;</span></span><br><span class="line"></span><br><span class="line">​<span class="tag">&lt;<span class="name">javaTypeResolver</span> &gt;</span></span><br><span class="line">​<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"forceBigDecimals"</span> <span class="attr">value</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line">​<span class="tag">&lt;/<span class="name">javaTypeResolver</span>&gt;</span></span><br><span class="line"></span><br><span class="line">​<span class="comment">&lt;!--        javaBean--&gt;</span></span><br><span class="line">​<span class="tag">&lt;<span class="name">javaModelGenerator</span> <span class="attr">targetPackage</span>=<span class="string">"com.hrms.bean"</span> <span class="attr">targetProject</span>=<span class="string">".\src\main\java"</span>&gt;</span></span><br><span class="line">​<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"enableSubPackages"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">​<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"trimStrings"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">​<span class="tag">&lt;/<span class="name">javaModelGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">​<span class="comment">&lt;!--        mapper.xml 映射文件--&gt;</span></span><br><span class="line">​<span class="tag">&lt;<span class="name">sqlMapGenerator</span> <span class="attr">targetPackage</span>=<span class="string">"mapper"</span>  <span class="attr">targetProject</span>=<span class="string">".\src\main\resources"</span>&gt;</span></span><br><span class="line">​<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"enableSubPackages"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">​<span class="tag">&lt;/<span class="name">sqlMapGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">​<span class="comment">&lt;!--        mapper接口--&gt;</span></span><br><span class="line">​<span class="tag">&lt;<span class="name">javaClientGenerator</span> <span class="attr">type</span>=<span class="string">"XMLMAPPER"</span> <span class="attr">targetPackage</span>=<span class="string">"com.hrms.mapper"</span>  <span class="attr">targetProject</span>=<span class="string">".\src\main\java\"</span>&gt;</span></span><br><span class="line">​<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"enableSubPackages"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">​<span class="tag">&lt;/<span class="name">javaClientGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">​<span class="comment">&lt;!--        table对应的每个表的生成策略--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">"tbl_emp2"</span> <span class="attr">domainObjectName</span>=<span class="string">"Employee"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">"tbl_dept2"</span> <span class="attr">domainObjectName</span>=<span class="string">"Department"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">​<span class="tag">&lt;/<span class="name">context</span>&gt;</span></span><br><span class="line">​<span class="tag">&lt;/<span class="name">generatorConfiguration</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>注意：mybatis generator生成的mapper.xml里面的 插入语句主键自增是默认数据库支持的（mysql支持 oracle不支持 需要用序列实现）  如果是oracle需要自己修改自增语句</strong></p><p>4.对搭建好的环境及pagehelper进行测试以及批量插入数据</p><hr><p>​    </p><p>​    </p><h2 id="第二步-前端搭建"><a href="#第二步-前端搭建" class="headerlink" title="第二步     前端搭建"></a>第二步     前端搭建</h2><p>​    (此处有疑惑可看aiguigu视频 因为我没怎么细学bootstrap主要是熟悉ssm 基本照搬过来的)<br>​    代码每一步有详细注释（基于的我理解）    基本都是将bootsrap文档里的 进行简单修改 </p><p><strong>基本面板：</strong></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;    </span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"container"</span>&gt;&lt;%--      标题--%&gt;      </span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"row"</span>&gt;        </span><br><span class="line">            &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"col-md-12"</span>&gt;          </span><br><span class="line">                &lt;h1&gt;SSM-CRUD&lt;/h1&gt;        </span><br><span class="line">            &lt;/div&gt;      </span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;%--      按钮--%&gt;      </span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"row"</span>&gt;        </span><br><span class="line">            &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"col-md-4 col-md-offset-8"</span>&gt;          </span><br><span class="line">                &lt;button type="button" class="btn btn-warning" id="emp_add_modal_btn"&gt;新增&lt;/button&gt;          </span><br><span class="line">                &lt;button type="button" class="btn btn-danger" id="emp_delete_modal_btn"&gt;删除&lt;/button&gt;        </span><br><span class="line">            &lt;/div&gt;      </span><br><span class="line">        &lt;/div&gt;&lt;%--  显示表格数据--%&gt;      </span><br><span class="line">        &lt;div class="row"&gt;&lt;/div&gt;          </span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"col-md-12"</span>&gt;</span><br><span class="line">            &lt;%--              添加id方便后面插入数据--%&gt;            </span><br><span class="line">            &lt;table <span class="class"><span class="keyword">class</span></span>=<span class="string">"table table-hover"</span> id=<span class="string">"emp_table"</span>&gt;                </span><br><span class="line">                &lt;thead&gt;                  </span><br><span class="line">                    &lt;tr&gt;                      </span><br><span class="line">                        &lt;th&gt;&lt;input type=<span class="string">"checkbox"</span> id=<span class="string">"check_all"</span> /&gt; </span><br><span class="line">                        &lt;/th&gt;                    </span><br><span class="line">                        &lt;th&gt;#&lt;/th&gt;                    </span><br><span class="line">                        &lt;th&gt;empName&lt;/th&gt;                    </span><br><span class="line">                        &lt;th&gt;gender&lt;/th&gt;                   </span><br><span class="line">                        &lt;th&gt;email&lt;/th&gt;                    </span><br><span class="line">                        &lt;th&gt;deptName&lt;/th&gt;                    </span><br><span class="line">                        &lt;th&gt;操作&lt;/th&gt;                  </span><br><span class="line">                    &lt;/tr&gt;                </span><br><span class="line">                &lt;/thead&gt;</span><br><span class="line">                &lt;%--                存放员工数据--%&gt;</span><br><span class="line">                &lt;tbody&gt;&lt;/tbody&gt;            </span><br><span class="line">            &lt;/table&gt;          </span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;%--        分页--%&gt;      </span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"row"</span>&gt;</span><br><span class="line">            &lt;%--          分页文字信息--%&gt;          </span><br><span class="line">            &lt;div class="col-md-6" id="page_text_Info"&gt;&lt;/div&gt;</span><br><span class="line">            &lt;%--          分页条--%&gt;          </span><br><span class="line">            &lt;div class="col-md-6" id="page_nav_area"&gt;&lt;/div&gt; </span><br><span class="line">        &lt;/div&gt;    </span><br><span class="line">    &lt;/div&gt;  </span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><p>​    </p><p><strong>为了防止代码臃肿 jsp大概的分为三个部分：</strong></p><blockquote><p>index.jsp + emp_modal_add.jsp + emp_modal_update.jsp</p></blockquote><p>​    </p><h4 id="每个jsp前后端功能大概分为下面："><a href="#每个jsp前后端功能大概分为下面：" class="headerlink" title="每个jsp前后端功能大概分为下面："></a>每个jsp前后端功能大概分为下面：</h4><blockquote><p>index：</p></blockquote><ul><li><p>主页自动加载员工数据</p></li><li><p>实现分页信息的数据显示</p></li><li><p>实现分页条的操作</p></li><li><p>全选/全不选 删除操作</p></li><li><p>导入增加和编辑模态框</p><p>​    </p></li></ul><blockquote><p>emp_modal_add:</p></blockquote><ul><li><p>实现将已存在的部门进行信息回显</p></li><li><p>对输入的信息进行校验 （格式是否合法 名字是否重复）</p></li><li><p>以及输入框的校验结果提示(利用bootrap提供的组件和样式配合JS进行重复修改)</p></li><li><p>前端校验完成后保存时同时进行后端校验 防止修改页面源码通过校验</p></li><li><p>每次新增后清空模态框信息 防止信息重复<br><strong>注意：每次bootstrap class里面的样式重新校验后要修改样式 都需要用removeClass将上次的样式删除才能重新赋值新样式</strong></p><p>​    </p></li></ul><blockquote><p>emp_modal_update：    </p></blockquote><ul><li>获取当前点击的员工信息<br> <strong><strong>【这里有一个问题 就是ajax异步请求 (异步局部刷新快 同步会堵塞)所以部门回显获取员工信息 不一定是前者先执行 有时候点击进去显示的并不正确】</strong></strong> </li><li>对修改的信息进行校验</li></ul><p>​    </p><p><strong><em>前端解析分页Json数据以及插入到表格中</em></strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> <span class="comment">// 总记录数 当前页设为全局变量 后边跳转需要</span></span><br><span class="line">    <span class="keyword">var</span> totalRecord,currentPage;</span><br><span class="line"><span class="comment">//==========================获取员工分页数据==============================</span></span><br><span class="line"><span class="comment">// 加载完成直接发送ajax请求</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    to_page(<span class="number">1</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// ajax请求跳转页面</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">to_page</span>(<span class="params">pageNumber</span>) </span>&#123;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url:<span class="string">"/SSM_HRMS_Project_war_exploded/EmployeeController/getEmps"</span>,</span><br><span class="line">        type:<span class="string">"GET"</span>,</span><br><span class="line">        data:<span class="string">"pageNumber="</span>+pageNumber,</span><br><span class="line">        success:(<span class="function"><span class="keyword">function</span> (<span class="params">result</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (result.code==<span class="number">100</span>)&#123;</span><br><span class="line">                <span class="comment">// 解析员工数据</span></span><br><span class="line">                build_emps_table(result);</span><br><span class="line">                <span class="comment">// 解析分页信息</span></span><br><span class="line">                build_page_Info(result);</span><br><span class="line">                <span class="comment">// 解析分页条信息</span></span><br><span class="line">                build_page_nav(result);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                alert(result.extendInfo.emp_error_getEmps);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 解析员工数据</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">build_emps_table</span>(<span class="params">result</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//清空  防止重复插入相同数据</span></span><br><span class="line">    $(<span class="string">"#emp_table tbody"</span>).empty();</span><br><span class="line">    <span class="comment">// 获取page的查询结果list</span></span><br><span class="line">    <span class="keyword">var</span> emps=result.extendInfo.page.list;</span><br><span class="line">    <span class="comment">//item是遍历元素 index是索引</span></span><br><span class="line">    $.each(emps,<span class="function"><span class="keyword">function</span> (<span class="params">index, item</span>) </span>&#123;</span><br><span class="line">        <span class="comment">//将数据放到 TD标签中</span></span><br><span class="line">        <span class="keyword">var</span> checkbox=$(<span class="string">"&lt;td&gt;&lt;input type='checkbox' class='check_item'/&gt;&lt;/td&gt;"</span>);</span><br><span class="line">        <span class="keyword">var</span> empid=$(<span class="string">"&lt;td&gt;&lt;/td&gt;"</span>).append(item.empId);</span><br><span class="line">        <span class="keyword">var</span> empName=$(<span class="string">"&lt;td&gt;&lt;/td&gt;"</span>).append(item.empName);</span><br><span class="line">        <span class="keyword">var</span> email=$(<span class="string">"&lt;td&gt;&lt;/td&gt;"</span>).append(item.email);</span><br><span class="line">        <span class="keyword">var</span> gender=$(<span class="string">"&lt;td&gt;&lt;/td&gt;"</span>).append((item.gender)==<span class="string">'M'</span>?<span class="string">"男"</span>:<span class="string">"女"</span>);</span><br><span class="line">        <span class="keyword">var</span> departmentName=$(<span class="string">"&lt;td&gt;&lt;/td&gt;"</span>).append(item.department.deptName);</span><br><span class="line">        <span class="comment">// 先在button中添加class   再将&lt;span&gt;标签放到button中 在&lt;span&gt;标签中添加class 在将编辑加入标签中</span></span><br><span class="line">        <span class="keyword">var</span> edit_btn=$(<span class="string">"&lt;button&gt;&lt;/button&gt;"</span>).addClass(<span class="string">"btn btn-primary btn-sm  edit_btn"</span>).append(<span class="string">"&lt;span&gt;&lt;/span&gt;"</span>).addClass(<span class="string">"glyphicon glyphicon-pencil"</span>).append(<span class="string">"编辑"</span>);</span><br><span class="line">        <span class="comment">// 给每个员工的编辑按钮添加一个员工id 方便编辑时查询信息</span></span><br><span class="line">        edit_btn.attr(<span class="string">"edit-id"</span>,item.empId);</span><br><span class="line">        <span class="keyword">var</span> delete_btn=$(<span class="string">"&lt;button&gt;&lt;/button&gt;"</span>).addClass(<span class="string">"btn btn-success btn-sm  delete_btn"</span>).append(<span class="string">"&lt;span&gt;&lt;/span&gt;"</span>).addClass(<span class="string">"glyphicon glyphicon-trash"</span>).append(<span class="string">"删除"</span>);</span><br><span class="line">        <span class="comment">//给每个员工的删除按钮添加一个员工id 方便删除时传值</span></span><br><span class="line">        delete_btn.attr(<span class="string">"delete-id"</span>,item.empId);</span><br><span class="line">        <span class="comment">// 把按钮放到一个单元格中</span></span><br><span class="line">        <span class="keyword">var</span> btnTD=$(<span class="string">"&lt;td&gt;&lt;/td&gt;"</span>).append(edit_btn).append(<span class="string">"  "</span>).append(delete_btn);</span><br><span class="line">        <span class="comment">//append()返回值为自身元素</span></span><br><span class="line">        <span class="comment">// 将所有TD列放到行标签TR中 最后添加到TBODY中</span></span><br><span class="line">        $(<span class="string">"&lt;tr&gt;&lt;/tr&gt;"</span>).append(checkbox)</span><br><span class="line">            .append(empid)</span><br><span class="line">            .append(empName)</span><br><span class="line">            .append(gender)</span><br><span class="line">            .append(email)</span><br><span class="line">            .append(departmentName)</span><br><span class="line">            .append(btnTD)</span><br><span class="line">            .appendTo(<span class="string">"#emp_table tbody"</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 解析分页信息</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">build_page_Info</span>(<span class="params">result</span>) </span>&#123;</span><br><span class="line">    $(<span class="string">"#page_text_Info"</span>).empty();</span><br><span class="line">    <span class="comment">// 获取pageInfo</span></span><br><span class="line">    <span class="keyword">var</span> pageInfo=result.extendInfo.page;</span><br><span class="line">    <span class="comment">// 当前页</span></span><br><span class="line">    currentPage=pageInfo.pageNum;</span><br><span class="line">    <span class="comment">// 总页数</span></span><br><span class="line">    <span class="keyword">var</span> totalPages=pageInfo.pages;</span><br><span class="line">    <span class="comment">//总记录数</span></span><br><span class="line">    totalRecord = pageInfo.total;</span><br><span class="line">    <span class="comment">// 插入到分页信息div里</span></span><br><span class="line">    $(<span class="string">"#page_text_Info"</span>).append(<span class="string">"第"</span>+currentPage+<span class="string">"页，共"</span>+totalPages+<span class="string">"页，总共有"</span>+totalRecord+<span class="string">"条记录"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 解析分页条信息</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">build_page_nav</span>(<span class="params">result</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//删除重复的分页条</span></span><br><span class="line">    $(<span class="string">"#page_nav_area"</span>).empty();</span><br><span class="line">    <span class="comment">//ul</span></span><br><span class="line">    <span class="keyword">var</span> ul=$(<span class="string">"&lt;ul&gt;&lt;/ul&gt;"</span>).addClass(<span class="string">"pagination"</span>);</span><br><span class="line">    <span class="comment">//首页</span></span><br><span class="line">    <span class="keyword">var</span> firstPage=$(<span class="string">"&lt;li&gt;&lt;/li&gt;"</span>).append($(<span class="string">"&lt;a&gt;&lt;/a&gt;"</span>).append(<span class="string">"首页"</span>).attr(<span class="string">"href"</span>,<span class="string">"#"</span>));</span><br><span class="line">    <span class="comment">//上一页&amp;laquo;</span></span><br><span class="line">    <span class="keyword">var</span> prePage=$(<span class="string">"&lt;li&gt;&lt;/li&gt;"</span>).append($(<span class="string">"&lt;a&gt;&lt;/a&gt;"</span>).append(<span class="string">"&amp;laquo;"</span>).attr(<span class="string">"href"</span>,<span class="string">"#"</span>));</span><br><span class="line">    <span class="comment">//如果没有前一页则给首页和上一页按钮添加一个标识</span></span><br><span class="line">    <span class="keyword">if</span>(!result.extendInfo.page.hasPreviousPage)&#123;</span><br><span class="line">        firstPage.addClass(<span class="string">"disabled"</span>);</span><br><span class="line">        prePage.addClass(<span class="string">"disabled"</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//如果有上一页 为页面增加点击事件 首页</span></span><br><span class="line">        firstPage.click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            to_page(<span class="number">1</span>);</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">//上一页</span></span><br><span class="line">        prePage.click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            to_page(result.extendInfo.page.pageNum<span class="number">-1</span>);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//下一页</span></span><br><span class="line">    <span class="keyword">var</span> nextPage=$(<span class="string">"&lt;li&gt;&lt;/li&gt;"</span>).append($(<span class="string">"&lt;a&gt;&lt;/a&gt;"</span>).append(<span class="string">"&amp;raquo;"</span>).attr(<span class="string">"href"</span>,<span class="string">"#"</span>));</span><br><span class="line">    <span class="comment">//尾页</span></span><br><span class="line">    <span class="keyword">var</span> lastPage=$(<span class="string">"&lt;li&gt;&lt;/li&gt;"</span>).append($(<span class="string">"&lt;a&gt;&lt;/a&gt;"</span>).append(<span class="string">"尾页"</span>).attr(<span class="string">"href"</span>,<span class="string">"#"</span>));</span><br><span class="line">    <span class="keyword">if</span>(!result.extendInfo.page.hasNextPage)&#123;</span><br><span class="line">        nextPage.addClass(<span class="string">"disabled"</span>);</span><br><span class="line">        lastPage.addClass(<span class="string">"disabled"</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        nextPage.click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            to_page(result.extendInfo.page.pageNum+<span class="number">1</span>);</span><br><span class="line">        &#125;)</span><br><span class="line">        lastPage.click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            to_page(result.extendInfo.page.pages);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//先将前两个按钮添加到ul</span></span><br><span class="line">    ul.append(firstPage).append(prePage)</span><br><span class="line">    <span class="comment">//1,2,3,4,5 遍历生成页码的同时 将页码插入分页条</span></span><br><span class="line">    $.each(result.extendInfo.page.navigatepageNums,<span class="function"><span class="keyword">function</span> (<span class="params">index,item</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> pageNum=$(<span class="string">"&lt;li&gt;&lt;/li&gt;"</span>).append($(<span class="string">"&lt;a&gt;&lt;/a&gt;"</span>).append(item).attr(<span class="string">"href"</span>,<span class="string">"#"</span>));</span><br><span class="line">        <span class="comment">// 给当前页码加上深色</span></span><br><span class="line">        <span class="keyword">if</span>(result.extendInfo.page.pageNum === item)&#123;</span><br><span class="line">            pageNum.addClass(<span class="string">"active"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        pageNum.click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            to_page(item);</span><br><span class="line">        &#125;)</span><br><span class="line">        ul.append(pageNum);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// 最后插入下一页跟尾页</span></span><br><span class="line">    ul.append(nextPage).append(lastPage)</span><br><span class="line">    <span class="comment">//按bootstrap要求创建nav 并把ul添加到nav</span></span><br><span class="line">    <span class="keyword">var</span> nav=$(<span class="string">"&lt;nav&gt;&lt;/nav&gt;"</span>).append(ul).attr(<span class="string">"aria-label"</span>,<span class="string">"Page navigation"</span>);</span><br><span class="line">    <span class="comment">//从内到外 最后把nav插入到分页条div中</span></span><br><span class="line">    $(<span class="string">"#page_nav_area"</span>).append(nav);</span><br><span class="line">    <span class="comment">// 或nav.appendTo("#page_nav_area");</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>​    </p><h2 id><a href="#" class="headerlink" title></a></h2><p>​    </p><h2 id="第三步-后端实现CRUD"><a href="#第三步-后端实现CRUD" class="headerlink" title="第三步     后端实现CRUD"></a>第三步     后端实现CRUD</h2><blockquote><p><strong>工具类</strong>：建立一个JsonMsg类管理Json类型数据</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment">* <span class="doctag">@author</span> doddd </span></span><br><span class="line"><span class="comment">* <span class="doctag">@date</span> 2019/11/19-15:36 </span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"><span class="comment">//处理Json格式信息  减少请求public </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">JsonMsg</span> </span>&#123;    <span class="keyword">private</span> <span class="keyword">int</span> code;</span><br><span class="line">               <span class="comment">//状态码 成功：100 失败：200    </span></span><br><span class="line">               <span class="keyword">private</span> String msg;</span><br><span class="line">               <span class="comment">//操作信息    </span></span><br><span class="line">               <span class="keyword">private</span> HashMap&lt;String,Object&gt; extendInfo =<span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">               <span class="comment">//填充返回信息    </span></span><br><span class="line">               <span class="function"><span class="keyword">public</span> <span class="title">JsonMsg</span><span class="params">(<span class="keyword">int</span> code, String msg, HashMap&lt;String, Object&gt; extend)</span></span>&#123;        </span><br><span class="line">                   <span class="keyword">this</span>.code = code;        </span><br><span class="line">                   <span class="keyword">this</span>.msg = msg;        </span><br><span class="line">                   <span class="keyword">this</span>.extendInfo = extend;    </span><br><span class="line">               &#125;    </span><br><span class="line">               <span class="function"><span class="keyword">public</span> <span class="title">JsonMsg</span><span class="params">()</span> </span>&#123;    &#125;    </span><br><span class="line">               <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCode</span><span class="params">()</span> </span>&#123;        <span class="keyword">return</span> code;    &#125;    </span><br><span class="line">               <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCode</span><span class="params">(<span class="keyword">int</span> code)</span> </span>&#123;        <span class="keyword">this</span>.code = code;    &#125;    </span><br><span class="line">               <span class="function"><span class="keyword">public</span> String <span class="title">getMsg</span><span class="params">()</span> </span>&#123;        <span class="keyword">return</span> msg;    &#125;    </span><br><span class="line">               <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMsg</span><span class="params">(String msg)</span> </span>&#123;        <span class="keyword">this</span>.msg = msg;    &#125;    </span><br><span class="line">               <span class="function"><span class="keyword">public</span> HashMap&lt;String, Object&gt; <span class="title">getExtendInfo</span><span class="params">()</span></span>&#123;       <span class="keyword">return</span> extendInfo;    &#125;    </span><br><span class="line">               <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setExtendInfo</span><span class="params">(HashMap&lt;String, Object&gt; extendInfo)</span> </span>&#123; </span><br><span class="line">                   <span class="keyword">this</span>.extendInfo = extendInfo;    </span><br><span class="line">               &#125;    </span><br><span class="line">               <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> JsonMsg <span class="title">success</span><span class="params">()</span></span>&#123;        </span><br><span class="line">                   JsonMsg json=<span class="keyword">new</span> JsonMsg();        </span><br><span class="line">                   json.setCode(<span class="number">100</span>);        </span><br><span class="line">                   json.setMsg(<span class="string">"操作成功"</span>);        </span><br><span class="line">                   <span class="keyword">return</span>  json;    &#125;    </span><br><span class="line">               <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> JsonMsg <span class="title">fail</span><span class="params">()</span></span>&#123;        </span><br><span class="line">                   JsonMsg json=<span class="keyword">new</span> JsonMsg();        </span><br><span class="line">                   json.setCode(<span class="number">200</span>);        </span><br><span class="line">                   json.setMsg(<span class="string">"操作失败"</span>);        </span><br><span class="line">                   <span class="keyword">return</span>  json;    &#125;    </span><br><span class="line">               <span class="function"><span class="keyword">public</span> JsonMsg <span class="title">addInfo</span><span class="params">(String key,Object value)</span></span>&#123;</span><br><span class="line">                   <span class="keyword">this</span>.extendInfo.put(key,value);</span><br><span class="line">                   <span class="keyword">return</span> <span class="keyword">this</span>;    </span><br><span class="line">                &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>​    </p><blockquote><p><strong>业务逻辑层</strong>：EmployeeService</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> doddd</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/11/19-10:25</span></span><br><span class="line"><span class="comment">   **/</span></span><br><span class="line">   <span class="meta">@Service</span></span><br><span class="line">   <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EmployeeService</span> </span>&#123;</span><br><span class="line">   <span class="meta">@Autowired</span></span><br><span class="line">   EmployeeMapper employeeMapper;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> List&lt;Employee&gt; <span class="title">getAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> employeeMapper.getAll();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">saveEmp</span><span class="params">(Employee employee)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> employeeMapper.insert(employee);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//检查名字是否可用</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">       <span class="comment">//从employeeExample中获取criteria</span></span><br><span class="line">       EmployeeExample employeeExample=<span class="keyword">new</span> EmployeeExample();</span><br><span class="line">       EmployeeExample.Criteria criteria = employeeExample.createCriteria();</span><br><span class="line">       <span class="comment">//再利用criteria调取相关条件方法 实现条件查询 当前条件是查询同名  返回符合条件人数</span></span><br><span class="line">       criteria.andEmpNameEqualTo(name);</span><br><span class="line">       <span class="keyword">long</span> count = employeeMapper.countByExample(employeeExample);</span><br><span class="line">       <span class="keyword">return</span> count==<span class="number">0</span>?<span class="keyword">true</span>:<span class="keyword">false</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Employee <span class="title">getEmp</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//查询等于主键的员工信息</span></span><br><span class="line">        <span class="keyword">return</span> employeeMapper.selectByPrimaryKey(id);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">updateEmp</span><span class="params">(Employee employee)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//        根据主键有选择的更新</span></span><br><span class="line">        <span class="keyword">return</span> employeeMapper.updateByPrimaryKeySelective(employee);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">deleteEmp</span><span class="params">(Integer empId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> employeeMapper.deleteByPrimaryKey(empId);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">deleteBatch</span><span class="params">(List&lt;Integer&gt; empIds)</span> </span>&#123;</span><br><span class="line">        EmployeeExample employeeExample=<span class="keyword">new</span> EmployeeExample();</span><br><span class="line">        EmployeeExample.Criteria criteria = employeeExample.createCriteria();</span><br><span class="line">        <span class="comment">//设置条件员工id在一个list里面  sql变成DELETE from xxx where empId in (list集合)</span></span><br><span class="line">        criteria.andEmpIdIn(empIds);</span><br><span class="line">        <span class="keyword">return</span> employeeMapper.deleteByExample(employeeExample);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>​    </p><blockquote><p><strong>控制层</strong>：EmployeeController（实现前后端交互）</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">获取分页数据:</span><br><span class="line">   <span class="meta">@RequestMapping</span>(value = <span class="string">"getEmps"</span>,method = RequestMethod.GET)</span><br><span class="line">   <span class="meta">@ResponseBody</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> JsonMsg <span class="title">getEmps</span><span class="params">(@RequestParam(value = <span class="string">"pageNumber"</span>,defaultValue = <span class="string">"1"</span>)</span><span class="keyword">int</span> pageNumber)</span>&#123;</span><br><span class="line">       <span class="comment">//引入分页插件</span></span><br><span class="line">       <span class="comment">//传入当前页跟页面大小</span></span><br><span class="line">       PageHelper.startPage(pageNumber,<span class="number">5</span>);</span><br><span class="line">       List&lt;Employee&gt; all = employeeService.getAll();</span><br><span class="line">       <span class="comment">//使用pageInfo包装查询的结果</span></span><br><span class="line">       <span class="comment">//封装了详细的分页信息,包括我们查询的数据 ,连续传入5页</span></span><br><span class="line">       PageInfo page=<span class="keyword">new</span> PageInfo(all,<span class="number">5</span>);</span><br><span class="line">       <span class="keyword">return</span> page!=<span class="keyword">null</span>?JsonMsg.success().addInfo(<span class="string">"page"</span>,page):JsonMsg.fail().addInfo(<span class="string">"emp_error_getEmps"</span>,<span class="string">"查询员工信息时发生错误"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">新增员工：</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"saveEmp"</span>,method = RequestMethod.POST)</span><br><span class="line"><span class="function"><span class="keyword">public</span> JsonMsg <span class="title">saveEmp</span><span class="params">(@Valid Employee employee, BindingResult bindingResult)</span></span>&#123;</span><br><span class="line"><span class="comment">//保存错误信息</span></span><br><span class="line">Map map=<span class="keyword">new</span> HashMap();</span><br><span class="line"><span class="keyword">if</span>(bindingResult.hasErrors())&#123;</span><br><span class="line"><span class="keyword">for</span> (FieldError fieldError : bindingResult.getFieldErrors()) &#123;</span><br><span class="line"><span class="comment">//fieldError.getField()拿到错误的字段  fieldError.getDefaultMessage()拿到错误的消息 传回前端</span></span><br><span class="line">map.put(fieldError.getField(),fieldError.getDefaultMessage());</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> JsonMsg.fail().addInfo(<span class="string">"emp_fail_saveEmp"</span>,map);</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">//            保存时进行后端同名校验 防止用户修改页面进行注入</span></span><br><span class="line"><span class="keyword">if</span>(checkName(employee.getEmpName()).getCode()==<span class="number">100</span>)&#123;</span><br><span class="line"><span class="keyword">int</span> result = employeeService.saveEmp(employee);</span><br><span class="line"><span class="keyword">return</span> result==<span class="number">1</span>?JsonMsg.success().addInfo(<span class="string">"emp_success_saveEmp"</span>,<span class="string">"员工新增成功"</span>):JsonMsg.fail().addInfo(<span class="string">"emp_fail_saveEmp"</span>,<span class="string">"新增员工时发生错误"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">map.put(<span class="string">"repeat"</span>,<span class="string">"用户名重复"</span>);</span><br><span class="line"><span class="keyword">return</span> JsonMsg.fail().addInfo(<span class="string">"emp_fail_saveEmp"</span>,map);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">校验名字：</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"checkName"</span>,method = RequestMethod.GET)</span><br><span class="line"><span class="function"><span class="keyword">public</span> JsonMsg <span class="title">checkName</span><span class="params">(@RequestParam(<span class="string">"name"</span>)</span> String name)</span>&#123;</span><br><span class="line"><span class="keyword">boolean</span> result=employeeService.checkName(name);</span><br><span class="line"><span class="keyword">return</span> result==<span class="keyword">true</span>?JsonMsg.success():JsonMsg.fail();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">查询当前id的员工信息:</span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">"getEmp"</span>,method = RequestMethod.GET)</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> JsonMsg <span class="title">getEmp</span><span class="params">(@RequestParam(<span class="string">"id"</span>)</span>Integer id)</span>&#123;</span><br><span class="line">       Employee emp = employeeService.getEmp(id);</span><br><span class="line">       <span class="keyword">return</span> emp!=<span class="keyword">null</span>?JsonMsg.success().addInfo(<span class="string">"emp"</span>,emp):JsonMsg.fail().addInfo(<span class="string">"emp_fail_getEmp"</span>,<span class="string">"获取员工信息失败"</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">接受前端传来的新员工信息 对数据库信息进行更新:</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">"updateEmp/&#123;empId&#125;"</span>,method = RequestMethod.PUT)</span><br><span class="line">   <span class="function"><span class="keyword">public</span> JsonMsg <span class="title">updateEmp</span><span class="params">(Employee employee)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result = employeeService.updateEmp(employee);</span><br><span class="line">        <span class="keyword">return</span> result==<span class="number">1</span>?JsonMsg.success().addInfo(<span class="string">"emp_success_updateEmp"</span>,<span class="string">"员工信息更新成功"</span>):JsonMsg.fail().addInfo(<span class="string">"emp_fail_updateEmp"</span>,<span class="string">"员工信息更新失败"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">删除一个或多个员工  (<span class="number">1</span>)或(<span class="number">1</span>-<span class="number">2</span>-<span class="number">3</span>-<span class="number">4</span>):</span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">"deleteEmp"</span>,method = RequestMethod.DELETE)</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> JsonMsg <span class="title">deleteEmp</span><span class="params">(@RequestParam(<span class="string">"empIds"</span>)</span> String empIds)</span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result;</span><br><span class="line">        <span class="keyword">if</span>(empIds.contains(<span class="string">"-"</span>))&#123;</span><br><span class="line">            List&lt;Integer&gt; ids=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">            String[] split = empIds.split(<span class="string">"-"</span>);</span><br><span class="line">            <span class="keyword">for</span> (String s : split) &#123;</span><br><span class="line">                ids.add(Integer.parseInt(s));</span><br><span class="line">            &#125;</span><br><span class="line">            result = employeeService.deleteBatch(ids);</span><br><span class="line">            System.out.println(result);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            Integer empId=Integer.parseInt(empIds);</span><br><span class="line">            result = employeeService.deleteEmp(empId);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result&gt;<span class="number">0</span>?JsonMsg.success().addInfo(<span class="string">"emp_success_deleteEmp"</span>,<span class="string">"员工删除成功"</span>):JsonMsg.fail().addInfo(<span class="string">"emp_fail_deleteEmp"</span>,<span class="string">"员工删除异常"</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>​    </p><ul><li>后端基本按照ssm框架操作 利用注释将类注册到IOC容器中 使用时再用@AutoWired自动装配</li><li>Mybatis生成的Mapper.xml里面有丰富的按条件CRUD 配合生成的EmployeeExample类进行使用</li><li>pagehelper不能直接配合联合查询使用  需要嵌套子查询 通过子查询返回部分内容<br>如：</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">//pagehelper一对多时需要子查询嵌套使用（不能使用innner join联表）</span><br><span class="line">​<span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"BaseResultMap"</span> <span class="attr">type</span>=<span class="string">"com.hrms.bean.Employee"</span>&gt;</span></span><br><span class="line">​<span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">"EMP_ID"</span> <span class="attr">jdbcType</span>=<span class="string">"DECIMAL"</span> <span class="attr">property</span>=<span class="string">"empId"</span> /&gt;</span></span><br><span class="line">​<span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"EMP_NAME"</span> <span class="attr">jdbcType</span>=<span class="string">"VARCHAR"</span> <span class="attr">property</span>=<span class="string">"empName"</span> /&gt;</span></span><br><span class="line">​<span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"EMAIL"</span> <span class="attr">jdbcType</span>=<span class="string">"VARCHAR"</span> <span class="attr">property</span>=<span class="string">"email"</span> /&gt;</span></span><br><span class="line">​<span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"GENDER"</span> <span class="attr">jdbcType</span>=<span class="string">"CHAR"</span> <span class="attr">property</span>=<span class="string">"gender"</span> /&gt;</span></span><br><span class="line">​<span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"DEPT_ID"</span> <span class="attr">jdbcType</span>=<span class="string">"DECIMAL"</span> <span class="attr">property</span>=<span class="string">"deptId"</span> /&gt;</span></span><br><span class="line">​ <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line">​//extends是继承BaseResultMap</span><br><span class="line">​  <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"WithDeptBaseResultMap"</span> <span class="attr">type</span>=<span class="string">"com.hrms.bean.Employee"</span> <span class="attr">extends</span>=<span class="string">"BaseResultMap"</span>&gt;</span></span><br><span class="line">​<span class="comment">&lt;!--   指定联合查询 查询部门--&gt;</span></span><br><span class="line">​<span class="comment">&lt;!--    JavaType和ofType都是用来指定对象类型的，但是JavaType是用来指定pojo中属性的类型，而ofType指定的是映射到list集合属性中pojo的类型。</span></span><br><span class="line"><span class="comment">​javaType用来指定对象所属的java数据类型，也就是private List&lt;Post&gt;posts 的ArrayList类型</span></span><br><span class="line"><span class="comment">​ofType用来指定对象的所属javaBean类,也就是尖括号的泛型private List&lt;Post&gt;posts--&gt;</span></span><br><span class="line">​<span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">"department"</span> <span class="attr">ofType</span>=<span class="string">"com.hrms.bean.Department"</span> <span class="attr">select</span>=<span class="string">"find_dept_id"</span> <span class="attr">column</span>=<span class="string">"dept_id"</span>&gt;</span></span><br><span class="line">​  <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">"dept_id"</span> <span class="attr">property</span>=<span class="string">"deptId"</span> /&gt;</span></span><br><span class="line">​  <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"dept_name"</span> <span class="attr">property</span>=<span class="string">"deptName"</span> /&gt;</span></span><br><span class="line">​<span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br><span class="line">​  <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line">​</span><br><span class="line">​//在collection中指定子查询语句是find_dept_id 把关联键column=dept_id传到子查询 再把结果返回给主查询</span><br><span class="line">​  <span class="comment">&lt;!--  子查询--&gt;</span></span><br><span class="line">​  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"find_dept_id"</span> <span class="attr">resultType</span>=<span class="string">"com.hrms.bean.Department"</span> <span class="attr">parameterType</span>=<span class="string">"Integer"</span>&gt;</span></span><br><span class="line">​select D.DEPT_ID,D.DEPT_NAME</span><br><span class="line">​from TBL_DEPT2 D</span><br><span class="line">​WHERE D.DEPT_ID=#&#123;dept_id&#125;</span><br><span class="line">​  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">​//主查询只查该类的内容（该类里面的成员变量 不包括department） 不查其他的类(department交给子查询)</span><br><span class="line">​  <span class="comment">&lt;!--  查询所有人信息--&gt;</span></span><br><span class="line">​  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getAll"</span> <span class="attr">resultMap</span>=<span class="string">"WithDeptBaseResultMap"</span>&gt;</span></span><br><span class="line">​select</span><br><span class="line">​<span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">"Base_Column_List"</span> /&gt;</span></span><br><span class="line">​from TBL_EMP2 E</span><br><span class="line">​  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p>​<br>​    很多细节以及功能如何实现都在源码里 这里就不细说了<br>​<br>​    感谢前辈的代码以及aiguigu视频 讲的都很详细<br>​    记录一次ssm项目实记<br>​    源码地址<a href="https://github.com/doddd-col/Spring-Mybatis" target="_blank" rel="noopener">SSM_HRMS_Project</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;SSM-HRMS-Project&quot;&gt;&lt;a href=&quot;#SSM-HRMS-Project&quot; class=&quot;headerlink&quot; title=&quot;SSM_HRMS_Project&quot;&gt;&lt;/a&gt;SSM_HRMS_Project&lt;/h1&gt;&lt;p&gt;刚学完Spring等框架，从网上借鉴一些前辈的项目架构（代码就是从模仿开始….） 还有aiguigu的视频结合 完成这个入门级的练手SSM项目&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/noaman_wgs/article/details/79503559&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;借鉴链接&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2019/11/22/%E7%AC%AC%E4%B8%80%E6%AC%A1%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%AE%B0SSM-HRMS-Project/SSM_page.png&quot; alt&gt;&lt;/p&gt;
&lt;p&gt;目的是熟悉ssm框架以及前后端的一个简单搭建流程 完成CRUD等简单操作 &lt;/p&gt;
    
    </summary>
    
    
    
      <category term="Spring" scheme="http://yoursite.com/tags/Spring/"/>
    
      <category term="SpringMVC" scheme="http://yoursite.com/tags/SpringMVC/"/>
    
      <category term="Mybatis" scheme="http://yoursite.com/tags/Mybatis/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://yoursite.com/2019/11/22/hello-world/"/>
    <id>http://yoursite.com/2019/11/22/hello-world/</id>
    <published>2019-11-22T13:02:46.834Z</published>
    <updated>2019-11-22T13:02:46.834Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
    
    
  </entry>
  
</feed>
